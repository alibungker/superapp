# System Design Document (SDD)
## Sistem Informasi Guru Aceh - guru.acehapp.com

---

## 1. Pengantar

### 1.1 Tujuan Dokumen
Dokumen ini menyediakan desain sistem detil untuk Sistem Informasi Guru Aceh (guru.acehapp.com), sebuah aplikasi berbasis web yang digunakan untuk mengelola data guru, portofolio pendidikan, pelatihan, perencanaan pembelajaran, dan sistem asesmen di wilayah Aceh, Indonesia.

### 1.2 Cakupan Sistem
Sistem ini mencakup manajemen data guru, sistem otentikasi berbasis peran, sistem portofolio pendidikan dan pelatihan, sistem asesmen kompetensi, dan pelaporan statistik untuk berbagai tingkatan administrasi pendidikan.

### 1.3 Referensi
- Laravel Framework 11.x Documentation
- MySQL Database Documentation
- ISO/IEC/IEEE 29148:2018 - Sistem dan Perangkat Lunak - Dokumentasi Kebutuhan Perangkat Lunak

### 1.4 Definisi dan Akrionim
- **PTK**: Pendidik dan Tenaga Kependidikan
- **NUPTK**: Nomor Unik Pendidik dan Tenaga Kependidikan
- **PNS**: Pegawai Negeri Sipil
- **PPPK**: Pegawai Pemerintah dengan Perjanjian Kerja
- **SRS**: Software Requirements Specification
- **SDD**: System Design Document

## 2. Representasi dan Pendekatan Arsitektur

### 2.1 Arsitektur Aplikasi
Sistem ini menggunakan arsitektur berbasis web dengan pendekatan **Model-View-Controller (MVC)** menggunakan framework **Laravel 11.x**. Arsitektur berlapis (layered architecture) terdiri dari:

- **Presentation Layer**: Antarmuka web menggunakan Blade templates dan Tailwind CSS
- **Application Layer**: Controllers dan middleware Laravel
- **Business Logic Layer**: Models dan service classes
- **Data Access Layer**: Eloquent ORM dan Query Builder
- **Data Layer**: Database MySQL

### 2.2 Teknologi dan Platform
- **Backend**: PHP 8.2+ dengan Laravel 11.x framework
- **Database**: MySQL
- **Frontend**: HTML5, CSS3 (Tailwind), JavaScript
- **Server**: Linux Apache/Nginx
- **Development Environment**: Composer for dependency management

### 2.3 Pola Desain Utama
- **Model-View-Controller (MVC)**: Memisahkan logika bisnis, representasi data, dan antarmuka pengguna
- **Active Record Pattern**: Menggunakan Eloquent ORM untuk interaksi database
- **Repository Pattern**: Digunakan untuk abstraksi akses data
- **Role-Based Access Control (RBAC)**: Sistem otentikasi dan otorisasi berbasis peran

## 3. Struktur Data

### 3.1 Model Utama dan Relasi

#### 3.1.1 Users Model
- **Deskripsi**: Menyimpan informasi akun pengguna sistem
- **Atribut**:
  - id (bigint unsigned, auto increment)
  - profile_id (foreign key ke profiles)
  - role_id (foreign key ke roles)
  - username (varchar 255)
  - email (varchar 255)
  - password (varchar 255)
- **Relasi**:
  - BelongsTo: Role (otorisasi)
  - BelongsTo: Profile (data pribadi)

#### 3.1.2 Profiles Model
- **Deskripsi**: Menyimpan data pribadi pengguna (guru)
- **Atribut**:
  - id (bigint unsigned, auto increment)
  - profilehas_type, profilehas_id (polymorphic untuk guru/entitas lain)
  - nik (varchar 17, unique)
  - slug (varchar 255, unique)
  - nama_lengkap (varchar 255)
  - jenis_kelamin (enum L/P)
  - tempat_lahir, tanggal_lahir
  - no_hp (varchar 20)
- **Relasi**:
  - MorphTo: Guru (guru yang dimiliki)

#### 3.1.3 Teachers Model
- **Deskripsi**: Menyimpan informasi profesional dan kepegawaian guru
- **Atribut**:
  - id (bigint unsigned, auto increment)
  - employee_status_id, occupation_id, level_id (foreign keys)
  - nip (varchar 18), nuptk (varchar 16)
  - jenis_ptk (enum: kepala sekolah/guru/tenaga kependidikan)
  - status sertifikasi, guru pengerak, dll.
- **Relasi**:
  - MorphOne: Profile
  - BelongsToMany: Schools (melalui tabel pivot school_teacher)
  - HasMany: AssessmentResults, EducationHistories, TrainingHistories, PlanningHistories
  - BelongsTo: Occupation, Level, EmployeeStatus, etc.

#### 3.1.4 Schools Model
- **Deskripsi**: Menyimpan informasi sekolah
- **Atribut**:
  - id (bigint unsigned, auto increment)
  - education_unit_id, district_id, city_id (foreign keys)
  - nama (varchar 255)
  - npsn (varchar 255, unique)
  - status (enum: negeri/swasta)
  - akreditasi (enum: A, B, C, D, Tidak Terakreditasi)
- **Relasi**:
  - BelongsToMany: Teachers
  - HasMany: TeacherDatas
  - BelongsTo: City, District

#### 3.1.5 AssessmentResults Model
- **Deskripsi**: Menyimpan hasil asesmen guru
- **Atribut**:
  - id (bigint unsigned, auto increment)
  - teacher_id, period_id, competence_id (foreign keys)
  - no_peserta_tes (varchar 7)
  - skor_pedagogik, skor_kurikulum_merdeka, skor_professional (int)
  - total (int)
- **Relasi**:
  - BelongsTo: Teacher
  - BelongsTo: Period
  - BelongsTo: Competence

### 3.2 Struktur Database
Database menggunakan skema normalisasi dengan relasi referensial yang kuat. Struktur utama:

- **Tabel Pengguna**: users, profiles, roles
- **Tabel Guru**: teachers, teacher_data, teacher_infos
- **Tabel Sekolah**: schools, school_teacher (pivot), education_units
- **Tabel Asesmen**: assesment_results, competences, periods
- **Tabel Portofolio**: education_histories, training_histories, planning_histories
- **Tabel Referensi**: cities, districts, employee_statuses, occupations, etc.
- **Tabel Sistem**: migrations, sessions, cache, jobs, failed_jobs

## 4. Arsitektur Sistem dan Subsistem

### 4.1 Modul Otentikasi dan Otorisasi
**Kelas**: `App\Models\User`, `App\Http\Controllers\Auth\*`, `App\Models\Role`

**Fungsi**:
- Login/logout pengguna
- Registrasi dan verifikasi akun
- Validasi sesi pengguna
- Otorisasi berbasis peran (Admin, Cabdin, Sekolah, Guru)

**Desain**:
- Menggunakan Laravel Sanctum atau sistem otentikasi bawaan Laravel
- Middleware untuk pengecekan otorisasi
- Sistem reset password melalui email

### 4.2 Modul Manajemen Guru
**Kelas**: `App\Models\Teacher`, `App\Models\Profile`, `App\Http\Controllers\Back\Teacher\*`

**Fungsi**:
- Pendaftaran dan manajemen profil guru
- Pemeliharaan data kepegawaian
- Pemeliharaan portofolio pendidikan

**Desain**:
- Model Teacher memiliki relasi kompleks ke Profile, Schools, AssessmentResults
- Sistem form bertahap untuk pendaftaran
- Validasi data menggunakan Form Requests

### 4.3 Modul Asesmen dan Evaluasi
**Kelas**: `App\Models\AssesmentResult`, `App\Http\Controllers\Back\*`, `App\Models\Competence`

**Fungsi**:
- Penyimpanan dan manajemen hasil asesmen
- Penilaian berdasarkan kompetensi
- Pelaporan hasil asesmen

**Desain**:
- Relasi antara Teacher dan AssesmentResult
- Sistem pelaporan berdasarkan wilayah (kota)
- Perhitungan skor otomatis

### 4.4 Modul Portofolio
**Kelas**: `App\Models\EducationHistory`, `App\Models\TrainingHistory`, `App\Models\PlanningHistory`

**Fungsi**:
- Manajemen riwayat pendidikan
- Manajemen riwayat pelatihan
- Manajemen rencana pembelajaran

**Desain**:
- Masing-masing model memiliki relasi HasMany ke Teacher
- Sistem upload dokumen terintegrasi

### 4.5 Modul Pelaporan dan Rekapitulasi
**Kelas**: `App\Http\Controllers\Back\Admin\RecapController`, `App\Models\TeacherInfo`

**Fungsi**:
- Rekapitulasi data guru
- Laporan statistik berdasarkan wilayah
- Visualisasi data asesmen

**Desain**:
- Query kompleks untuk agregasi data
- Sistem filter dan pencarian
- Eksport data (menggunakan Maatwebsite/Excel)

## 5. Desain Antarmuka

### 5.1 Antarmuka Pengguna Web
- Dibangun menggunakan HTML5, CSS3 (Tailwind CSS), dan JavaScript
- Responsif untuk berbagai ukuran perangkat
- Navigasi sidebar konsisten
- Form input dengan validasi langsung

### 5.2 Arsitektur Routing
- Routing Laravel dengan grup middleware
- Penggunaan prefix URL untuk area berbeda (front, panel)
- Sistem navigasi berbasis peran

### 5.3 Desain Template
- Blade templating system
- Layout konsisten antar halaman
- Partials untuk komponen berulang
- Inheritance template

## 6. Desain Aplikasi Perangkat Lunak

### 6.1 Komponen Aplikasi
- **Core Components**: Authentication, Authorization, User Management
- **Domain Components**: Teacher Management, School Management, Assessment
- **Utility Components**: File Upload (Filepond), Excel Export/Import
- **Infrastructure Components**: Database Models, Migrations, Seeds

### 6.2 Dependency Management
- Composer untuk manajemen dependensi PHP
- Package yang digunakan:
  - `maatwebsite/excel`: Ekspor/impor Excel
  - `rahulhaque/laravel-filepond`: Upload file
  - `spatie/laravel-sluggable`: Pembuatan slug otomatis
  - Laravel Breeze: Scaffolding otentikasi

### 6.3 Konfigurasi Aplikasi
- File `.env` untuk konfigurasi lingkungan
- File konfigurasi Laravel standar untuk database, cache, session, dll.

## 7. Desain Basis Data

### 7.1 Skema Database
Database terdiri dari sekitar 30+ tabel dengan relasi referensial. Struktur utama:

**Tabel Utama:**
- `users`: Informasi akun pengguna
- `profiles`: Data pribadi (NIK, nama lengkap, dll.)
- `teachers`: Data kepegawaian dan profesional guru
- `schools`: Informasi sekolah
- `assesment_results`: Hasil asesmen guru
- `education_histories`, `training_histories`, `planning_histories`: Portofolio guru

**Tabel Referensi:**
- `cities`, `districts`: Wilayah geografis Aceh
- `roles`: Peran pengguna
- `employee_statuses`, `occupations`, `levels`: Kategori kepegawaian
- `competences`, `periods`: Referensi asesmen

**Tabel Pivot:**
- `school_teacher`: Relasi Many-to-Many antara sekolah dan guru

### 7.2 Indeks dan Kinerja
- Indeks unik pada kolom penting (email, nik, npsn)
- Indeks foreign key untuk query efisien
- Indeks pada kolom yang sering digunakan untuk pencarian

### 7.3 Normalisasi Data
- Database dirancang sesuai prinsip normalisasi untuk mencegah redundansi
- Relasi referensial untuk menjaga integritas data
- Polymorphic relations untuk fleksibilitas struktur data

## 8. Desain Pengelolaan Sistem

### 8.1 Manajemen Sesi
- Session database untuk manajemen login
- Cookie secure untuk otorisasi
- Sistem timeout sesi

### 8.2 Logging dan Monitoring
- Laravel logging untuk aktivitas sistem
- Error tracking dan debugging
- Audit trail untuk perubahan data penting

### 8.3 Backup dan Recovery
- Sistem migrasi database Laravel
- Potensi backup otomatis (tidak terlihat di kode tetapi seharusnya ada)

## 9. Karakteristik Desain Kualitas

### 9.1 Ketersediaan
- Arsitektur web standar untuk ketersediaan tinggi
- Desain responsif untuk akses dari berbagai perangkat
- Sistem otentikasi yang aman

### 9.2 Kinerja
- Eloquent ORM dengan eager loading untuk mengurangi N+1 query
- Index database yang tepat
- Cache potensial (meskipun tidak secara eksplisit terlihat di kode dasar)

### 9.3 Keamanan
- Otentikasi dan otorisasi berbasis peran
- Form request validation
- Password hashing otomatis
- CSRF protection
- SQL injection prevention melalui query binding

### 9.4 Pemeliharaan
- Kode terorganisir dengan MVC pattern
- Komentar dokumentasi pada kelas dan fungsi penting
- Konvensi penamaan konsisten
- Modul-modul terpisah untuk fitur berbeda

## 10. Desain Interface

### 10.1 Interface Database
- Model Eloquent sebagai interface ke database
- Migration files untuk skema database
- Query Builder untuk query kompleks

### 10.2 Interface API (Jika Ada)
- Potensi API endpoints (meskipun tidak sepenuhnya terlihat)
- Resource Controllers untuk endpoint standard

### 10.3 Interface Eksternal
- Integrasi dengan Filepond untuk upload file
- Potensi integrasi Excel export/import
- Sistem email Laravel

## 11. Desain Packaging

### 11.1 Struktur Folder
```
app/
├── Console/
├── Exceptions/
├── Http/
│   ├── Controllers/
│   ├── Middleware/
│   ├── Requests/
│   └── Resources/
├── Models/
├── Providers/
config/
database/
├── factories/
├── migrations/
└── seeders/
public/
resources/
├── css/
├── js/
└── views/
routes/
storage/
tests/
vendor/
```

### 11.2 Deployment Package
- Composer dependencies dalam vendor/
- Laravel storage untuk file upload
- .env untuk konfigurasi lingkungan
- Laravel artisan untuk perintah administrasi

## 12. Rekomendasi dan Pertimbangan Desain

### 12.1 Pengembangan Masa Depan
- Potensi penambahan fitur API untuk integrasi mobile
- Sistem notifikasi real-time
- Laporan grafik dan dashboard lanjutan
- Sistem workflow untuk approval data

### 12.2 Skalabilitas
- Arsitektur modular untuk mudah diskalakan
- Potensi caching untuk kinerja lebih baik
- Sistem queue untuk operasi background

### 12.3 Pengujian
- Potensi pengujian unit dan fitur (menggunakan PHPUnit)
- Testing E2E untuk workflow penting

---

**Catatan**: Dokumen ini dibuat berdasarkan analisis langsung terhadap kode sumber, struktur database, dan arsitektur aplikasi guru.acehapp.com. Sistem ini merupakan aplikasi besar dengan lebih dari 29.000 catatan guru dan 20.000+ hasil asesmen, menunjukkan cakupan penggunaan yang luas di wilayah Aceh.